(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{992:function(e,n,t){Promise.resolve().then(t.bind(t,1876)),Promise.resolve().then(t.bind(t,971)),Promise.resolve().then(t.bind(t,8675)),Promise.resolve().then(t.bind(t,7615)),Promise.resolve().then(t.t.bind(t,5250,23))},7723:function(e,n,t){"use strict";t.d(n,{$J:function(){return c},CR:function(){return a},_q:function(){return r}}),t(5355);var s=t(1162);(0,s.$)("9d7f909a3caa3ade7084d546f26deb80f9cbbcd2"),(0,s.$)("c711a4f546b8ed22d3f364e5bde6a2a4ccec0e3f");var r=(0,s.$)("6becc9296ec16a583b265ab89f2ebc3af8a23b05"),a=(0,s.$)("542960be04681112d741a2a3f5e8fc0f53af5c16"),c=(0,s.$)("99c2275e86d9edd182d20fd717ee39fb305cf39f")},1876:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return i}});var s=t(7437),r=t(2265),a=t(7723),c=t(7615);function i(e){let{selectedMonth:n}=e,[t,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)([]),[d,u]=(0,r.useState)(!1),f=async()=>{u(!0);try{console.log("Vyhodnocuji měs\xedc:",n);let e=await (0,a.$J)(n);console.log("V\xfdsledek vyhodnocen\xed:",e),e.success&&e.winners?(l(e.winners),i(!0),console.log("Modal se otev\xedr\xe1 s v\xedtězi:",e.winners)):(console.log("Ž\xe1dn\xed v\xedtězov\xe9 nebo chyba:",e),l([]),i(!0))}catch(e){console.error("Chyba při vyhodnocov\xe1n\xed:",e)}finally{u(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:f,disabled:d,className:"btn btn-secondary",children:d?"⏳ Vyhodnocuji...":"\uD83C\uDFC6 Vyhodnotit měs\xedc"}),(0,s.jsx)(c.default,{isOpen:t,onClose:()=>i(!1),winners:o,month:n})]})}},971:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return c}});var s=t(7437),r=t(4033),a=t(6771);function c(e){let{currentMonth:n,selectedMonth:t}=e,c=(0,r.useRouter)(),i=(0,r.useSearchParams)(),o=e=>{let n=new URLSearchParams(i);n.set("month",e),c.push("/?".concat(n.toString()))},l=(()=>{let e=[],[t,s]=n.split("-").map(Number);for(let n=11;n>=0;n--){let r=t,a=s-n;a<=0&&(a+=12,r-=1);let c="".concat(r,"-").concat(a.toString().padStart(2,"0"));e.push(c)}return e})();return(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,s.jsx)("span",{style:{color:"#374151",fontWeight:"500"},children:"Měs\xedc:"}),(0,s.jsx)("select",{value:t,onChange:e=>o(e.target.value),style:{padding:"0.5rem 1rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",background:"white",color:"#374151",fontWeight:"500"},children:l.map(e=>(0,s.jsxs)("option",{value:e,children:[(0,a.ZY)(e)," ",e.split("-")[0],e===n?" (aktu\xe1ln\xed)":""]},e))})]})}},8675:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return o}});var s=t(7437),r=t(6691),a=t.n(r),c=t(2265),i=t(7723);function o(e){let{player:n}=e,[t,r]=(0,c.useState)(n.points),[o,l]=(0,c.useState)(!1),d=async()=>{if(!(t>=3)&&!o){l(!0),r(e=>Math.min(3,e+1));try{(await (0,i._q)(n.id)).success||r(n.points)}catch(e){r(n.points)}finally{l(!1)}}},u=async()=>{if(!(t<=0)&&!o){l(!0),r(e=>Math.max(0,e-1));try{(await (0,i.CR)(n.id)).success||r(n.points)}catch(e){r(n.points)}finally{l(!1)}}};return(0,s.jsxs)("div",{className:"player-container",children:[(0,s.jsxs)("div",{className:"player-card",children:[(0,s.jsx)("div",{className:"avatar",children:(0,s.jsx)(a(),{src:"/avatars/".concat(n.avatar_file),alt:"Avatar ".concat(n.name),width:120,height:120})}),(0,s.jsx)("h3",{className:"player-name",children:n.name})]}),t>0&&(0,s.jsx)("div",{className:"sandwiches",children:Array(t).fill(0).map((e,n)=>(0,s.jsx)(a(),{src:"/images/chleb.png",alt:"chleb\xedček",width:28,height:28,className:"sandwich-icon"},n))}),(0,s.jsxs)("div",{className:"buttons",children:[(0,s.jsx)("button",{onClick:u,disabled:t<=0||o,className:"btn-circle",children:o?"...":"−"}),(0,s.jsx)("button",{onClick:d,disabled:t>=3||o,className:"btn-circle",children:o?"...":"+"})]})]})}},7615:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return o}});var s=t(7437),r=t(2265),a=t(6691),c=t.n(a),i=t(6771);function o(e){let{isOpen:n,onClose:t,winners:a,month:o}=e;return((0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t()};return n&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[n,t]),n)?(0,s.jsx)("div",{className:"modal-overlay",children:(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsx)("button",{onClick:t,className:"modal-close",children:"✕"}),(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)(c(),{src:"/images/winner.png",alt:"V\xedtěz",width:80,height:80,className:"winner-icon"}),(0,s.jsx)("h2",{className:"modal-title",children:"Tenhle měs\xedc chleb\xedčky připravuje:"})]}),0===a.length?(0,s.jsxs)("div",{className:"no-winners",children:[(0,s.jsx)("p",{children:"Ž\xe1dn\xfd hr\xe1č nem\xe1 přesně 3 chleb\xedčky"}),(0,s.jsx)("p",{children:"Zkuste to př\xedšt\xed měs\xedc! \uD83E\uDD6A"})]}):(0,s.jsx)("div",{className:"winners-list",children:a.map((e,n)=>(0,s.jsxs)("div",{className:"winner-item",style:{animationDelay:"".concat(.2*n,"s")},children:[(0,s.jsx)("div",{className:"winner-avatar",children:(0,s.jsx)(c(),{src:"/avatars/".concat(e.avatar_file),alt:"Avatar ".concat(e.name),width:80,height:80})}),(0,s.jsx)("h3",{className:"winner-name",children:e.name}),(0,s.jsx)("div",{className:"trophy",children:"\uD83C\uDFC6"})]},e.id))}),(0,s.jsx)("div",{className:"modal-footer",children:(0,s.jsxs)("p",{className:"month-info",children:[(0,i.ZY)(o)," ",o.split("-")[0]]})})]})}):null}},6771:function(e,n,t){"use strict";t.d(n,{ZY:function(){return r}});let s=["Leden","\xdanor","Březen","Duben","Květen","Červen","Červenec","Srpen","Z\xe1ř\xed","Ř\xedjen","Listopad","Prosinec"];function r(e){return s[parseInt(e.split("-")[1])-1]}},7447:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e,n){for(var t in n)Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}(n,{unstable_getImgProps:function(){return o},default:function(){return l}});let s=t(1024),r=t(8630),a=t(6184),c=t(1749),i=s._(t(536)),o=e=>{(0,a.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:n}=(0,r.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(n))void 0===t&&delete n[e];return{props:n}},l=c.Image},1162:function(e,n,t){"use strict";Object.defineProperty(n,"$",{enumerable:!0,get:function(){return r}});let s=t(5355);function r(e){let{createServerReference:n}=t(6671);return n(e,s.callServer)}},622:function(e,n,t){"use strict";var s=t(2265),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(e,n,t){var s,a={},l=null,d=null;for(s in void 0!==t&&(l=""+t),void 0!==n.key&&(l=""+n.key),void 0!==n.ref&&(d=n.ref),n)c.call(n,s)&&!o.hasOwnProperty(s)&&(a[s]=n[s]);if(e&&e.defaultProps)for(s in n=e.defaultProps)void 0===a[s]&&(a[s]=n[s]);return{$$typeof:r,type:e,key:l,ref:d,props:a,_owner:i.current}}n.Fragment=a,n.jsx=l,n.jsxs=l},7437:function(e,n,t){"use strict";e.exports=t(622)},6691:function(e,n,t){e.exports=t(7447)},4033:function(e,n,t){e.exports=t(5313)}},function(e){e.O(0,[647,971,938,744],function(){return e(e.s=992)}),_N_E=e.O()}]);